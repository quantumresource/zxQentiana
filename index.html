<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="main.css">

    <!-- Custom fonts for this template-->
    <link href="js/libs/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="js/libs/sb-admin2/sb-admin-2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="js/libs/codemirror-5.48.2/lib/codemirror.css">

    <!-- <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"> -->

    <script type="text/javascript">
        // set the pyodide support files (packages.json, pyodide.asm.data etc) url
        window.languagePluginUrl = 'githubiofiles/';
    </script>

    <script src="githubiofiles/pyodide.js"></script>

    <!--For saving files and SVGs-->
    <script src="https://cdn.jsdelivr.net/g/filesaver.js"></script>

    <!--Calculations-->
    <!-- <script src="zxqentiana/othercalculation.js"></script>
    <script src="zxqentiana/palerhelpers.js"></script> -->
    <!-- <script src="zxqentiana/austinhelpers.js"></script> -->
    <script src="zxqentiana/utilities.js"></script>

    <script src="zxqentiana/svgsaving.js"></script>

    <!-- Visualisations from Qentiana-->
    <script src="zxqentiana/type1_plot.js"></script>
    <script src="zxqentiana/type2_plot.js"></script>
    <script src="zxqentiana/qentiana_vis_mouse.js"></script>
    
    <!-- For a more beautiful GUI use Bootstrap and a Admin style arrangement of panels-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- CodeMirror-->
    <script src="js/libs/codemirror-5.48.2/lib/codemirror.js"></script>
    <!-- Modes -->
    <script src="js/libs/codemirror-5.48.2/mode/javascript/javascript.js"></script>
    <script src="js/libs/codemirror-5.48.2/mode/python/python.js"></script>
    
    <!-- D3 and friends-->
    <script src="js/libs/d3.v4.min.js"></script>

    <script src="js/libs/three.js"></script>
    <script src="js/libs/three-spritetext.min.js"></script>
    <script src="js/libs/3d-force-graph.min.js"></script>
    <!-- Visualisation from pyZX-->
    <script src="js/pyzxd3plots.js"></script>

    <!-- <script src="js/libs/sb-admin2/sb-admin-2.min.js"></script> -->

    <script src="zxqentiana/javascript_call_000.js"></script>

    <script>
        //Load the Pyodide environment
        languagePluginLoader.then(function () {
            pyodide.loadPackage(['pyzx', 'pyqentiana']).then(function () {
                // show interface only now
                // document.getElementsByTagName("body")[0].style.display = "block";

                //load the script in the texteditor
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.open('GET', 'zxqentiana/python_call_000.py', false);
                xmlhttp.send();
                //load codemirror python script
                myCodeMirror000.setValue(xmlhttp.responseText);

                //load the script in the texteditor
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.open('GET', 'zxqentiana/python_call_001.py', false);
                xmlhttp.send();
                //load codemirror python script
                myCodeMirror001.setValue(xmlhttp.responseText);

                /*Execute the first Python*/
                runscript(myCodeMirror000);

                firstrun();

                // Run the code in second Python
                // postMessage("Python script started");
                runscript(myCodeMirror001);
                // postMessage("Python script finished");
            });
        });
    </script>

    <!-- <script>
        var w;
        
        function startWorker() {
          if (typeof(Worker) !== "undefined") {
            if (typeof(w) == "undefined") {
              w = new Worker("demo_workers.js");
            }
            w.onmessage = function(event) {
              document.getElementById("result").innerHTML = event.data;
            };
          } else {
            document.getElementById("result").innerHTML = "Sorry! No Web Worker support.";
          }
        }
        
        function stopWorker() {
          w.terminate();
          w = undefined;
        }
    </script> -->
</head>

<body>
    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" target="_blank" href="https://github.com/quantumresource/zxQentiana">
                <img src="enzian.png" height="30" style="transform: scaleX(-1); float:right;">
                <div class="sidebar-brand-text mx-3">
                    zxQentiana
                </div>
                <img src="enzian.png" height="30">
            </a>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Heading -->
            <div class="sidebar-heading">
                1. Circuits
            </div>

            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <a class="nav-link">
                    <span>Loads (or generates random) circuit, draws the 3D ZX diagram, extracts experiment data, update resource estimation plots</span>
                </a>
            </li>
            
            <!-- Nav Item - Charts -->
            <li class="nav-link">
                <div style="text-align: center;">
                    <select id="select_circuits" name="select_circuits" size="5" style="width:200px">
                    </select>
                </div>
            </li>

            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <a class="nav-link" href="javascript:runscript(myCodeMirror001)">
                    <i class="fas fa-fw fa-chart-area"></i>
                    <span>Run script: Play with ZX</span>
                </a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Heading -->
            <div class="sidebar-heading">
                2. Stored Experiments
            </div>
            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <a class="nav-link">
                    <span>Select an already existing experiment, update resource estimation plots</span>
                </a>
            </li>

            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <div style="height: 140px; text-align: center;">
                    <select id="select_experiments" name="select_experiments" size="5" style="width:200px">
                    </select>
                </div>
            </li>
            
            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Heading -->
            <div class="sidebar-heading">
                3. Manually Configured Experiment
            </div>
            <li class="nav-item">
                <a class="nav-link">
                    <span>Configure the experiment, update resource estimation plots</span>
                </a>
            </li>

            <div class="inputcontainer">
                Depth: <input type="number" min="1" value="50" step="1" id="input_depth_field" class="input">
            </div>
            <div class="inputcontainer">
                Qubits <input type="number" min="1" value="10" step="1" id="input_qubit_field" class="input">
            </div>
            <div class="inputcontainer">
                Scaling Factor [%]: <input type="number" min="1" value="50" step="1" id="input_routing_overhead" class="input">
            </div>
            <div class="inputcontainer">
                Error per Cycle: <input type="number" min="0" value="0.0000" step="0.0002" id="input_err_field" class="input">
            </div>
            <div class="inputcontainer">
                <input type="checkbox" id="input_force_distance" style="margin-bottom: 15px">
                Use Fixed Distance <input type="number" min="5" value="0" step="1" id="input_distance_field" class="input">
            </div>

             <!-- Nav Item - Charts -->
             <li class="nav-item">
                    <a class="nav-link" href="javascript:update_plots()">
                        <i class="fas fa-fw fa-chart-area"></i>
                        <span>Update plots!</span>
                    </a>
            </li>
           
            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Charts -->
            <li class="nav-item">
                <div class="row no-gutters align-items-center">
                   
                </div>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Sidebar Toggler (Sidebar) -->
            <!-- <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div> -->

        </ul>
        <!-- End of Sidebar -->


        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Begin Page Content -->
                <div class="container-fluid">
                    <!-- Diagrams Section -->
                    <!-- <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Code Editor</h1>
                    </div> -->
                    
                    <div class="row" id="divscript">
                        <a href="#collapseScript1" class="d-block card-header py-3" data-toggle="collapse" role="button"
                            aria-expanded="true" aria-controls="collapseScript1">
                            <h6 class="m-0 font-weight-bold text-primary">Python Script - Boot</h6>
                        </a>
                        <div class="collapse col-lg-12" id="collapseScript1">
                            <textarea name="txt_script_1" id="txt_script_1">
                            </textarea>
                        </div>
                    </div>

                    <div class="row" id="divscript">
                        <a href="#collapseScript2" class="d-block card-header py-3" data-toggle="collapse" role="button"
                            aria-expanded="true" aria-controls="collapseScript2">
                            <h6 class="m-0 font-weight-bold text-primary">Python Script - Play with ZX</h6>
                        </a>
                        <div class="collapse show col-lg-12" id="collapseScript2">
                            <textarea name="txt_script_2" id="txt_script_2">
                            </textarea>
                        </div>
                    </div>
                        
                    <!--
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Trade-Off Analysis</h1>
                    </div> -->

                    <div class="row" id="divplots12">
                        <div class="col-lg-6">
                            <div class="card shadow mb-6">
                                <!-- Card Header - Accordion -->
                                <a href="#collapse_plot1" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapse_plot1">
                                    <h6 class="m-0 font-weight-bold text-primary" id="plot1title">[see/hide]</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show row py-3" id="collapse_plot1">
                                    <div class="card-body col-sm-6" style="height:20vw">
                                        <div class="plot1 chart">
                                            <!-- Here should be the plot -->
                                        </div>
                                    </div>
                                    <div class="card-body col-md-4 m-3 plotconsole" id="plot1console">

                                    </div>

                                    <div class="card-body col-lg-12" id="plot1params">
                                    </div>
                                    <div class="card-body col-lg-12" id="plot1desc">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card shadow mb-6">
                                <!-- Card Header - Accordion -->
                                <a href="#collapse_plot2" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapse_plot2">
                                    <h6 class="m-0 font-weight-bold text-primary" id="plot2title">[see/hide]</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show row py-3" id="collapse_plot2">
                                    <div class="card-body col-sm-6" style="height:20vw">
                                        <div class="plot2 chart">
                                            <!-- Here should be the plot -->
                                        </div>
                                    </div>
                                    <div class="card-body col-md-4 m-3 plotconsole" id="plot2console">

                                    </div>
                                    <div class="card-body col-lg-12" id="plot2params">

                                    </div>
                                    <div class="card-body col-lg-12" id="plot2desc">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" id="divplots34">
                        <div class="col-lg-6">
                            <div class="card shadow mb-6">
                                <!-- Card Header - Accordion -->
                                <a href="#collapse_plot3" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapse_plot3">
                                    <h6 class="m-0 font-weight-bold text-primary" id="plot3title">[see/hide]</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show row py-3" id="collapse_plot3">
                                    <div class="card-body col-sm-6" style="height:20vw">
                                        <div class="plot3 chart">
                                            <!-- Here should be the plot -->
                                        </div>
                                    </div>
                                    <div class="card-body col-md-4 m-3 plotconsole" id="plot3console">

                                    </div>
                                    <div class="card-body col-lg-12" id="plot3params">
                                    </div>
                                    <div class="card-body col-lg-12" id="plot3desc">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card shadow mb-6">
                                <!-- Card Header - Accordion -->
                                <a href="#collapse_plot4" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapse_plot4">
                                    <h6 class="m-0 font-weight-bold text-primary" id="plot4title">[see/hide]</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show show row py-3" id="collapse_plot4">
                                    <div class="card-body col-sm-6" style="height:20vw">
                                        <div class="plot4 chart">
                                            <!-- Here should be the plot -->
                                        </div>
                                    </div>
                                    <div class="card-body col-md-4 m-3 plotconsole" id="plot4console">

                                    </div>
                                    <div class="card-body col-lg-12" id="plot4params">
                                    </div>
                                    <div class="card-body col-lg-12" id="plot4desc">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" id="divoutput">
                        <!-- Collapsable Card Example -->
                        <div class="col-lg-12">
                            <div class="card shadow mb-12">
                                <!-- Card Header - Accordion -->
                                <a href="#collapseOutput" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapseOutput">
                                    <h6 class="m-0 font-weight-bold text-primary">Generated ZX diagram</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show" id="collapseOutput">
                                    <div class="card-body">
                                        <div>
                                            Click and drag the nodes. Diagrams with too many nodes and edges are not drawn, in order to not kill the browser.
                                        </div>
                                        <div id="fig_circuit"
                                            style="height:30vw; background:rgb(203, 219, 182); margin:10px">

                                        </div>
                                        <!-- <div id="graph-output-1"></div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" id="divconsole">
                        <div class="col-lg-12">
                            <div class="card shadow mb-12">
                                <!-- Card Header - Accordion -->
                                <a href="#collapseConsole" class="d-block card-header py-3" data-toggle="collapse"
                                    role="button" aria-expanded="true" aria-controls="collapseConsole">
                                    <h6 class="m-0 font-weight-bold text-primary">Console Output</h6>
                                </a>
                                <!-- Card Content - Collapse -->
                                <div class="collapse show" id="collapseConsole">
                                    <div class="card-body">
                                        <div style="height:400px; background:lightskyblue; margin:10px"
                                            id="txt_console">
                                            <!--console...-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- End of Main Content -->

            </div>
            <!-- End of Content Wrapper -->

        </div>
        <!-- End of Page Wrapper -->

        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up"></i>
        </a>
    </div>

    <!-- <div id="tooltip" style="visibility: hidden; z-index: 2000;"> -->

    <script src="zxqentiana/javascript_call_999.js"></script>
</body>