<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <script type="text/javascript">
        window.languagePluginUrl = 'githubiofiles/'; // set the pyodide support files (packages.json, pyodide.asm.data etc) url
    </script>
    <script src="githubiofiles/pyodide.js"></script>
</head>
<body>
  <div style="width: 40%; float:left; height:400px; background:lightcoral; margin:10px">
    <textarea rows="4" id="txt_script" style="width:90%; height:90%">
import pyzx as zx

import cube_to_physical as qre
      
from js import document

cons = document.getElementById("txt_console")

#
# PyZX part
#
qubit_amount = 5
gate_count = 80
#Generate random circuit of Clifford gates
circuit = zx.generate.cliffordT(qubit_amount, gate_count)
#If running in Jupyter, draw the circuit
#zx.draw(circuit)
#Use one of the built-in rewriting strategies to simplify the circuit
zx.simplify.full_reduce(circuit)
#See the result
#zx.draw(circuit)
cons.innerText += "T gates from pyZX " + str(zx.tcount(circuit))

# parameters
t_count = zx.tcount(circuit)
max_log_qubits = 200
# estimate the resources
qentiana = qre.Qentiana(t_count, max_log_qubits)
res_values = qentiana.compute_physical_resources()
estimation = "\nResource prediction phys. qubits, time, t_count, time, log_qub: " + str(res_values)

#print estimation
cons.innerText += estimation

    </textarea>
    <br>
    <input type="button" value="Run the Python" id="btnrun" onclick="runscript()">
  </div>

  <div style="width: 40%; float:left; height:400px; background:rgb(203, 219, 182); margin:10px" id="txt_console">
  </div>

  <script type="text/javascript">
    languagePluginLoader.then(function () {
            pyodide.loadPackage(['pyzx', 'cube_to_physical']);
        });

    function py (code)
    {
      return pyodide.runPython(code);
    }

    function runscript()
    {
      //read script
      scriptLines = document.getElementById("txt_script").value;
      //run script
      py(scriptLines);
    }
  </script>
</body>
